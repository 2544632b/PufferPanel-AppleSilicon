(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab43a"],{1511:function(s,e,r){"use strict";r.r(e);var t=function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("v-row",[r("v-col",{attrs:{cols:"12",md:"6","offset-md":"3"}},[r("v-card",[r("v-card-title",{domProps:{textContent:s._s(s.$t(s.create?"users.Add":"users.Edit"))}}),r("v-card-text",[r("v-row",[r("v-col",[r("ui-input",{attrs:{icon:"mdi-account",label:s.$t("common.Name"),"hide-details":""},model:{value:s.user.username,callback:function(e){s.$set(s.user,"username",e)},expression:"user.username"}})],1)],1),r("v-row",[r("v-col",[r("ui-input",{attrs:{icon:"mdi-email",label:s.$t("users.Email"),type:"email","hide-details":""},model:{value:s.user.email,callback:function(e){s.$set(s.user,"email",e)},expression:"user.email"}})],1)],1),r("v-row",[r("v-col",[r("ui-password-input",{attrs:{label:s.$t(s.create?"users.Password":"users.NewPassword"),"error-messages":s.passwordErrors,"hide-details":""===s.passwordErrors},on:{blur:s.validatePassword},model:{value:s.user.password,callback:function(e){s.$set(s.user,"password",e)},expression:"user.password"}})],1)],1),r("v-row",[r("v-col",{staticClass:"py-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.Admin")},model:{value:s.user.admin,callback:function(e){s.$set(s.user,"admin",e)},expression:"user.admin"}})],1)],1),r("v-row",[r("v-col",{staticClass:"py-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.ViewServers"),disabled:s.user.admin},model:{value:s.user.viewServers,callback:function(e){s.$set(s.user,"viewServers",e)},expression:"user.viewServers"}})],1)],1),r("v-row",[r("v-col",{staticClass:"py-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.CreateServers"),disabled:s.user.admin},model:{value:s.user.createServers,callback:function(e){s.$set(s.user,"createServers",e)},expression:"user.createServers"}})],1)],1),r("v-row",[r("v-col",{staticClass:"py-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.DeleteServers"),disabled:s.user.admin},model:{value:s.user.deleteServers,callback:function(e){s.$set(s.user,"deleteServers",e)},expression:"user.deleteServers"}})],1)],1),r("v-row",[r("v-col",{staticClass:"py-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.EditServerAdmin"),disabled:s.user.admin},model:{value:s.user.editServerAdmin,callback:function(e){s.$set(s.user,"editServerAdmin",e)},expression:"user.editServerAdmin"}})],1)],1),r("v-row",[r("v-col",{staticClass:"py-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.ViewNodes"),disabled:s.user.admin},model:{value:s.user.viewNodes,callback:function(e){s.$set(s.user,"viewNodes",e)},expression:"user.viewNodes"}})],1)],1),r("v-row",[r("v-col",{staticClass:"py-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.EditNodes"),disabled:s.user.admin},model:{value:s.user.editNodes,callback:function(e){s.$set(s.user,"editNodes",e)},expression:"user.editNodes"}})],1)],1),r("v-row",[r("v-col",{staticClass:"py-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.DeployNodes"),disabled:s.user.admin},model:{value:s.user.deployNodes,callback:function(e){s.$set(s.user,"deployNodes",e)},expression:"user.deployNodes"}})],1)],1),r("v-row",[r("v-col",{staticClass:"py-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.ViewTemplates"),disabled:s.user.admin},model:{value:s.user.viewTemplates,callback:function(e){s.$set(s.user,"viewTemplates",e)},expression:"user.viewTemplates"}})],1)],1),r("v-row",[r("v-col",{staticClass:"py-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.EditTemplates"),disabled:s.user.admin},model:{value:s.user.editTemplates,callback:function(e){s.$set(s.user,"editTemplates",e)},expression:"user.editTemplates"}})],1)],1),r("v-row",[r("v-col",{staticClass:"py-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.ViewUsers"),disabled:s.user.admin},model:{value:s.user.viewUsers,callback:function(e){s.$set(s.user,"viewUsers",e)},expression:"user.viewUsers"}})],1)],1),r("v-row",[r("v-col",{staticClass:"pt-0"},[r("ui-switch",{attrs:{label:s.$t("scopes.EditUsers"),disabled:s.user.admin},model:{value:s.user.editUsers,callback:function(e){s.$set(s.user,"editUsers",e)},expression:"user.editUsers"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-btn",{attrs:{large:"",block:"",color:"success"},domProps:{textContent:s._s(s.$t(s.create?"users.Add":"users.Update"))},on:{click:s.save}})],1),s.create?s._e():r("v-col",{attrs:{cols:"12"}},[r("v-btn",{attrs:{block:"",color:"error"},domProps:{textContent:s._s(s.$t("users.Delete"))},on:{click:s.deleteUser}})],1)],1)],1)],1)],1)],1)},a=[],i={data(){return{loading:!1,showPassword:!1,passwordErrors:"",create:void 0===this.$route.params.id,user:{}}},mounted(){this.create||this.loadData()},methods:{async loadData(){this.loading=!0,this.user=await this.$api.getUser(this.$route.params.id),this.loading=!1},validatePassword(){!this.create||this.user.password&&""!==this.user.password?this.user.password&&""!==this.user.password&&this.user.password.length<8?this.passwordErrors=this.$t("errors.ErrPasswordRequirements"):this.passwordErrors="":this.passwordErrors=this.$t("errors.ErrFieldRequired",{field:this.$t("users.Password")})},async save(){const s=this.user;if(s.password&&""!==s.password||delete s.password,this.create){const e=await this.$api.createUser(s);this.$toast.success(this.$t("users.CreateSuccess")),this.create=!1,this.$router.push({name:"User",params:{id:e}})}else await this.$api.updateUser(this.$route.params.id,s),this.$toast.success(this.$t("users.UpdateSuccess"))},async deleteUser(){this.$api.deleteUser(this.$route.params.id),this.$router.push({name:"Users"})}}},o=i,l=r("2877"),d=r("6544"),c=r.n(d),u=r("8336"),n=r("b0af"),p=r("99d9"),v=r("62ad"),w=r("0fd9"),m=Object(l["a"])(o,t,a,!1,null,null,null);e["default"]=m.exports;c()(m,{VBtn:u["a"],VCard:n["a"],VCardText:p["c"],VCardTitle:p["d"],VCol:v["a"],VRow:w["a"]})}}]);
//# sourceMappingURL=chunk-2d0ab43a.bbd07350.js.map