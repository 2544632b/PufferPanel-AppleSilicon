(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c74ae546"],{"269a":function(t,e){t.exports=function(t,e){var s="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var i in"function"===typeof t.exports&&(s.directives=t.exports.options.directives),s.directives=s.directives||{},e)s.directives[i]=s.directives[i]||e[i]}},ed81:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("h1",{domProps:{textContent:t._s(t.$t("users.Users"))}}),s("v-row",[s("v-col",[s("v-list",{attrs:{"two-line":"",elevation:"1"}},t._l(t.users,(function(e,i){return s("div",{key:e.id},[s("v-list-item",{attrs:{to:t.hasScope("users.edit")||t.isAdmin()?{name:"User",params:{id:e.id}}:void 0}},[s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.username)}}),s("v-list-item-subtitle",{domProps:{textContent:t._s(e.email)}})],1)],1),i!==t.users.length-1?s("v-divider"):t._e()],1)})),0),t.page<t.pageCount?s("v-row",{directives:[{name:"intersect",rawName:"v-intersect",value:t.lazyLoad,expression:"lazyLoad"}],ref:"lazy"},[s("v-col",{attrs:{cols:"2",offset:"5"}},[s("v-progress-circular",{staticClass:"mr-2",attrs:{indeterminate:""}}),s("span",{domProps:{textContent:t._s(t.$t("common.Loading"))}})],1)],1):t._e(),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.hasScope("users.edit")||t.isAdmin(),expression:"hasScope('users.edit') || isAdmin()"}],attrs:{color:"primary",bottom:"",right:"",fixed:"",fab:"",dark:"",large:"",to:{name:"AddUser"}}},[s("v-icon",[t._v("mdi-plus")])],1)],1)],1)],1)},a=[],n={data(){return{loading:!1,users:[],page:0,pageCount:1}},methods:{recheckLazy(){const t=this.$refs.lazy.getBoundingClientRect(),e=Math.max(document.documentElement.clientHeight,window.innerHeight);!(t.bottom<0||t.top-e>=0)&&this.page<this.pageCount&&this.loadNextPage()},lazyLoad(t,e,s){s&&this.loadNextPage()},async loadNextPage(){if(this.loading)return;this.loading=!0;const{users:t,pages:e}=await this.$api.getUsers(this.page+1);t.filter(t=>0===this.users.filter(e=>t.id===e.id).length).forEach(t=>this.users.push(t)),this.page=this.page+1,this.pageCount=e,this.loading=!1,this.recheckLazy()}}},o=n,r=s("2877"),d=s("6544"),c=s.n(d),l=s("8336"),p=s("62ad"),u=s("a523"),m=s("ce7e"),h=s("132d"),v=s("8860"),g=s("da13"),f=s("5d23"),x=s("490a"),w=s("0fd9"),C=s("269a"),y=s.n(C),V=s("90a2"),L=Object(r["a"])(o,i,a,!1,null,null,null);e["default"]=L.exports;c()(L,{VBtn:l["a"],VCol:p["a"],VContainer:u["a"],VDivider:m["a"],VIcon:h["a"],VList:v["a"],VListItem:g["a"],VListItemContent:f["a"],VListItemSubtitle:f["b"],VListItemTitle:f["c"],VProgressCircular:x["a"],VRow:w["a"]}),y()(L,{Intersect:V["a"]})}}]);
//# sourceMappingURL=chunk-c74ae546.14347d64.js.map