(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-344deed0"],{"269a":function(e,t){e.exports=function(e,t){var r="function"===typeof e.exports?e.exports.extendOptions:e.options;for(var n in"function"===typeof e.exports&&(r.directives=e.exports.options.directives),r.directives=r.directives||{},t)r.directives[n]=r.directives[n]||t[n]}},"5bc3":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("h1",{domProps:{textContent:e._s(e.$t("servers.Servers"))}}),r("v-row",[r("v-col",[r("v-sheet",{staticClass:"mb-8",attrs:{elevation:"1"}},[0===e.servers.length?r("div",{staticClass:"pt-2 text-center text--disabled",domProps:{textContent:e._s(e.$t("servers.NoServers"))}}):e._e(),r("v-list",{attrs:{"two-line":""}},e._l(e.servers,(function(t,n){return r("div",{key:t.id},[r("v-list-item",{attrs:{to:{name:"Server",params:{id:t.id}}}},[r("v-list-item-avatar",[t.online?r("v-icon",{attrs:{color:"success"}},[e._v(" mdi-check-circle ")]):r("v-icon",{attrs:{color:"error"}},[e._v(" mdi-alert-circle ")])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s(t.name)}}),r("v-list-item-subtitle",{domProps:{textContent:e._s(t.address+" @ "+t.node)}})],1)],1),n!==e.servers.length-1?r("v-divider"):e._e()],1)})),0),e.page<e.pageCount?r("v-row",{directives:[{name:"intersect",rawName:"v-intersect",value:e.lazyLoad,expression:"lazyLoad"}],ref:"lazy"},[r("v-col",{attrs:{cols:"2",offset:"5"}},[r("v-progress-circular",{staticClass:"mr-2",attrs:{indeterminate:""}}),r("span",{domProps:{textContent:e._s(e.$t("common.Loading"))}})],1)],1):e._e(),r("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.hasScope("servers.create")||e.isAdmin(),expression:"hasScope('servers.create') || isAdmin()"}],attrs:{color:"primary",bottom:"",right:"",fixed:"",fab:"",dark:"",large:"",to:{name:"AddServer"}}},[r("v-icon",[e._v("mdi-plus")])],1)],1)],1)],1)],1)},s=[],a=(r("4de4"),r("4160"),r("d3b7"),r("159b"),r("ddb0"),r("2909")),i=(r("96cf"),r("1da1")),o={data:function(){return{servers:[],loading:!1,page:0,pageCount:1,task:null}},mounted:function(){this.task=setInterval(this.pollServerStatus,3e4)},beforeDestroy:function(){null!=this.task&&clearInterval(this.task)},methods:{recheckLazy:function(){var e=this.$refs.lazy.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight);!(e.bottom<0||e.top-t>=0)&&this.page<this.pageCount&&this.loadNextPage()},lazyLoad:function(e,t,r){r&&this.loadNextPage()},loadNextPage:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.next=5,e.$api.getServers(e.page+1);case 5:r=t.sent,n=r.servers,s=r.pages,n.filter((function(t){return 0===e.servers.filter((function(e){return t.id===e.id})).length})).forEach((function(t){return e.servers.push(t)})),e.page=e.page+1,e.pageCount=s,e.loading=!1,e.recheckLazy(),e.pollServerStatus();case 14:case"end":return t.stop()}}),t)})))()},pollServerStatus:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=regeneratorRuntime.keys(e.servers);case 1:if((t.t1=t.t0()).done){t.next=10;break}return r=t.t1.value,n=Object(a["a"])(e.servers),t.next=6,e.$api.getServerStatus(n[r].id);case 6:n[r].online=t.sent,e.servers=n,t.next=1;break;case 10:case"end":return t.stop()}}),t)})))()}}},c=o,l=r("2877"),d=r("6544"),v=r.n(d),u=r("8336"),p=r("62ad"),m=r("a523"),f=r("ce7e"),h=r("132d"),g=r("8860"),x=r("da13"),b=r("8270"),w=r("5d23"),k=r("490a"),C=r("0fd9"),S=r("8dd9"),V=r("269a"),_=r.n(V),y=r("90a2"),L=Object(l["a"])(c,n,s,!1,null,null,null);t["default"]=L.exports;v()(L,{VBtn:u["a"],VCol:p["a"],VContainer:m["a"],VDivider:f["a"],VIcon:h["a"],VList:g["a"],VListItem:x["a"],VListItemAvatar:b["a"],VListItemContent:w["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VProgressCircular:k["a"],VRow:C["a"],VSheet:S["a"]}),_()(L,{Intersect:y["a"]})}}]);
//# sourceMappingURL=chunk-344deed0-legacy.f9eff936.js.map