(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e8c9b"],{"8b83":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",[o("v-col",{attrs:{cols:"12",md:"6","offset-md":"3"}},[o("v-card",[o("v-card-title",{domProps:{textContent:t._s(t.$t("nodes.Edit"))}}),o("v-card-text",{staticClass:"mt-6"},[o("v-row",[o("v-col",[o("ui-input",{attrs:{label:t.$t("common.Name"),"hide-details":""},model:{value:t.node.name,callback:function(e){t.$set(t.node,"name",e)},expression:"node.name"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("ui-input",{attrs:{label:t.$t("nodes.PublicHost"),"hide-details":""},model:{value:t.node.publicHost,callback:function(e){t.$set(t.node,"publicHost",e)},expression:"node.publicHost"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("ui-input",{attrs:{label:t.$t("nodes.PublicPort"),type:"number","hide-details":""},model:{value:t.node.publicPort,callback:function(e){t.$set(t.node,"publicPort",e)},expression:"node.publicPort"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("ui-input",{attrs:{label:t.$t("nodes.PrivateHost"),"hide-details":""},model:{value:t.node.privateHost,callback:function(e){t.$set(t.node,"privateHost",e)},expression:"node.privateHost"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("ui-input",{attrs:{label:t.$t("nodes.PrivatePort"),type:"number","hide-details":""},model:{value:t.node.privatePort,callback:function(e){t.$set(t.node,"privatePort",e)},expression:"node.privatePort"}})],1)],1),o("v-row",[o("v-col",[o("ui-input",{attrs:{label:t.$t("nodes.SftpPort"),type:"number","hide-details":""},model:{value:t.node.sftpPort,callback:function(e){t.$set(t.node,"sftpPort",e)},expression:"node.sftpPort"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-btn",{attrs:{large:"",block:"",color:"success"},domProps:{textContent:t._s(t.$t("nodes.Update"))},on:{click:t.updateNode}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-btn",{attrs:{block:"",color:"error"},domProps:{textContent:t._s(t.$t("nodes.Delete"))},on:{click:t.deleteNode}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-btn",{attrs:{disabled:t.loadingDeploy,text:"",block:""},domProps:{textContent:t._s(t.$t("nodes.SaveConfig"))},on:{click:function(e){return t.downloadConfig()}}})],1),o("v-col",{attrs:{cols:"12"}},[o("span",{domProps:{innerHTML:t._s(t.markdown(t.$t("nodes.DeploymentInstruction")))}})])],1)],1)],1)],1)],1)},n=[],s=(o("ddb0"),o("2b3d"),o("8e36")),l={data(){return{loading:!0,loadingDeploy:!0,node:{},deployment:{clientId:"",clientSecret:""},configTemplate:{logs:"/var/log/pufferpanel",web:{},token:{public:location.protocol+"//"+location.host+"/auth/publickey"},panel:{enable:!1},daemon:{auth:{url:location.protocol+"//"+location.host+"/oauth2/token"},data:{cache:"/var/lib/pufferpanel/cache",servers:"/var/lib/pufferpanel/servers"},sftp:{}}}}},mounted(){this.loadData()},methods:{async loadData(){this.node=await this.$api.getNode(this.$route.params.id),this.loading=!1,this.deployment=await this.$api.getNodeDeployment(this.$route.params.id),this.loadingDeploy=!1},async updateNode(){await this.$api.updateNode(this.$route.params.id,this.node),this.$toast.success(this.$t("nodes.UpdateSuccess"))},async deleteNode(){await this.$api.deleteNode(this.$route.params.id),this.$router.push({name:"Nodes"})},downloadConfig(){const t={...this.configTemplate};t.daemon.auth.clientId=this.deployment.clientId,t.daemon.auth.clientSecret=this.deployment.clientSecret,t.daemon.sftp.host="0.0.0.0:"+this.node.sftpPort,t.web.host="0.0.0.0:"+this.node.privatePort,this.download(JSON.stringify(t,void 0,2),"config.json")},download(t,e,o){o||(o="application/octet-stream");var a=document.createElement("a"),n=new Blob([t],{type:o});a.href=window.URL.createObjectURL(n),a.download=e,a.click()},markdown:s["a"]}},d=l,i=o("2877"),r=o("6544"),c=o.n(r),p=o("8336"),u=o("b0af"),m=o("99d9"),v=o("62ad"),b=o("0fd9"),h=Object(i["a"])(d,a,n,!1,null,null,null);e["default"]=h.exports;c()(h,{VBtn:p["a"],VCard:u["a"],VCardText:m["c"],VCardTitle:m["d"],VCol:v["a"],VRow:b["a"]})}}]);
//# sourceMappingURL=chunk-2d0e8c9b.11607062.js.map