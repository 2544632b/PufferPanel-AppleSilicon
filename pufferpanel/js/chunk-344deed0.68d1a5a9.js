(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-344deed0"],{"269a":function(e,t){e.exports=function(e,t){var s="function"===typeof e.exports?e.exports.extendOptions:e.options;for(var r in"function"===typeof e.exports&&(s.directives=e.exports.options.directives),s.directives=s.directives||{},t)s.directives[r]=s.directives[r]||t[r]}},"5bc3":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("h1",{domProps:{textContent:e._s(e.$t("servers.Servers"))}}),s("v-row",[s("v-col",[s("v-sheet",{staticClass:"mb-8",attrs:{elevation:"1"}},[0===e.servers.length?s("div",{staticClass:"pt-2 text-center text--disabled",domProps:{textContent:e._s(e.$t("servers.NoServers"))}}):e._e(),s("v-list",{attrs:{"two-line":""}},e._l(e.servers,(function(t,r){return s("div",{key:t.id},[s("v-list-item",{attrs:{to:{name:"Server",params:{id:t.id}}}},[s("v-list-item-avatar",[t.online?s("v-icon",{attrs:{color:"success"}},[e._v(" mdi-check-circle ")]):s("v-icon",{attrs:{color:"error"}},[e._v(" mdi-alert-circle ")])],1),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:e._s(t.name)}}),s("v-list-item-subtitle",{domProps:{textContent:e._s(t.address+" @ "+t.node)}})],1)],1),r!==e.servers.length-1?s("v-divider"):e._e()],1)})),0),e.page<e.pageCount?s("v-row",{directives:[{name:"intersect",rawName:"v-intersect",value:e.lazyLoad,expression:"lazyLoad"}],ref:"lazy"},[s("v-col",{attrs:{cols:"2",offset:"5"}},[s("v-progress-circular",{staticClass:"mr-2",attrs:{indeterminate:""}}),s("span",{domProps:{textContent:e._s(e.$t("common.Loading"))}})],1)],1):e._e(),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.hasScope("servers.create")||e.isAdmin(),expression:"hasScope('servers.create') || isAdmin()"}],attrs:{color:"primary",bottom:"",right:"",fixed:"",fab:"",dark:"",large:"",to:{name:"AddServer"}}},[s("v-icon",[e._v("mdi-plus")])],1)],1)],1)],1)],1)},i=[],a=(s("ddb0"),{data(){return{servers:[],loading:!1,page:0,pageCount:1,task:null}},mounted(){this.task=setInterval(this.pollServerStatus,3e4)},beforeDestroy(){null!=this.task&&clearInterval(this.task)},methods:{recheckLazy(){const e=this.$refs.lazy.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight);!(e.bottom<0||e.top-t>=0)&&this.page<this.pageCount&&this.loadNextPage()},lazyLoad(e,t,s){s&&this.loadNextPage()},async loadNextPage(){if(this.loading)return;this.loading=!0;const{servers:e,pages:t}=await this.$api.getServers(this.page+1);e.filter(e=>0===this.servers.filter(t=>e.id===t.id).length).forEach(e=>this.servers.push(e)),this.page=this.page+1,this.pageCount=t,this.loading=!1,this.recheckLazy(),this.pollServerStatus()},async pollServerStatus(){for(const e in this.servers){const t=[...this.servers];t[e].online=await this.$api.getServerStatus(t[e].id),this.servers=t}}}}),o=a,n=s("2877"),l=s("6544"),c=s.n(l),d=s("8336"),v=s("62ad"),p=s("a523"),h=s("ce7e"),m=s("132d"),u=s("8860"),g=s("da13"),f=s("8270"),x=s("5d23"),w=s("490a"),C=s("0fd9"),S=s("8dd9"),b=s("269a"),y=s.n(b),V=s("90a2"),_=Object(n["a"])(o,r,i,!1,null,null,null);t["default"]=_.exports;c()(_,{VBtn:d["a"],VCol:v["a"],VContainer:p["a"],VDivider:h["a"],VIcon:m["a"],VList:u["a"],VListItem:g["a"],VListItemAvatar:f["a"],VListItemContent:x["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VProgressCircular:w["a"],VRow:C["a"],VSheet:S["a"]}),y()(_,{Intersect:V["a"]})}}]);
//# sourceMappingURL=chunk-344deed0.68d1a5a9.js.map